---
title: Hookè§„åˆ™
date: 2021-04-06 19:13:06
permalink: /pages/723be7/
categories:
  - ã€ŠReactã€‹ç¬”è®°
  - Hook
tags:
  - 
---
# 04. Hookè§„åˆ™

Hook æœ¬è´¨å°±æ˜¯ JavaScript å‡½æ•°ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨å®ƒæ—¶éœ€è¦éµå¾ª**ä¸¤æ¡è§„åˆ™**ã€‚æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª [linter æ’ä»¶](https://www.npmjs.com/package/eslint-plugin-react-hooks)æ¥å¼ºåˆ¶æ‰§è¡Œè¿™äº›è§„åˆ™ï¼š

## åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hook

ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hookï¼Œ ç¡®ä¿**æ€»æ˜¯åœ¨ä½ çš„ React å‡½æ•°çš„æœ€é¡¶å±‚ä»¥åŠä»»ä½• return ä¹‹å‰è°ƒç”¨ä»–ä»¬**ã€‚éµå®ˆè¿™æ¡è§„åˆ™ï¼Œä½ å°±èƒ½ç¡®ä¿ Hook åœ¨æ¯ä¸€æ¬¡æ¸²æŸ“ä¸­éƒ½æŒ‰ç…§åŒæ ·çš„é¡ºåºè¢«è°ƒç”¨ã€‚

:::tip

1. React æ€ä¹ˆçŸ¥é“å“ªä¸ª state å¯¹åº”å“ªä¸ª `useState`ï¼Ÿç­”æ¡ˆæ˜¯ React é çš„æ˜¯ Hook è°ƒç”¨çš„é¡ºåº

2. å¦‚æœæˆ‘ä»¬æƒ³è¦æœ‰æ¡ä»¶åœ°æ‰§è¡Œä¸€ä¸ª effectï¼Œå¯ä»¥å°†åˆ¤æ–­æ”¾åˆ° Hook çš„*å†…éƒ¨*ï¼š

```jsx
  useEffect(function persistForm() {
    // ğŸ‘ å°†æ¡ä»¶åˆ¤æ–­æ”¾ç½®åœ¨ effect ä¸­
    if (name !== '') {
      localStorage.setItem('formData', name);
    }
  });
```

:::

## åªåœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hook

**ä¸è¦åœ¨æ™®é€šçš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚**ä½ å¯ä»¥ï¼š

- âœ… åœ¨ React çš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨ Hook
- âœ… åœ¨è‡ªå®šä¹‰ Hook ä¸­è°ƒç”¨å…¶ä»– Hook 





## ESLint æ’ä»¶

æˆ‘ä»¬å‘å¸ƒäº†ä¸€ä¸ªåä¸º [`eslint-plugin-react-hooks`](https://www.npmjs.com/package/eslint-plugin-react-hooks) çš„ ESLint æ’ä»¶æ¥å¼ºåˆ¶æ‰§è¡Œè¿™ä¸¤æ¡è§„åˆ™ã€‚

```sh
npm install eslint-plugin-react-hooks --save-dev
```



```js
// ä½ çš„ ESLint é…ç½®
{
  "plugins": [
    // ...
    "react-hooks"
  ],
  "rules": {
    // ...
    "react-hooks/rules-of-hooks": "error", // æ£€æŸ¥ Hook çš„è§„åˆ™
    "react-hooks/exhaustive-deps": "warn" // æ£€æŸ¥ effect çš„ä¾èµ–
  }
}
```

